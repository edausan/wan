"use strict";(self.webpackChunkwan_bagtas=self.webpackChunkwan_bagtas||[]).push([[3986],{1674:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var a=n(3433),r=n(5861),s=n(1413),i=n(9439),o=n(7757),l=n.n(o),c=n(3005),u=n(1993),d=n(787),p=n(7112),m=n(5646),f=n(9658),v=n(3400),x=n(8096),Z=n(4925),g=n(292),h=n(1918),y=n(7391),b=n(2791),j=n(4681),S=n(4054),w=n(3252),C=n(1089),I=n(6929),N=n(9201),T=n(3329),k=(0,N.Z)([(0,T.jsx)("circle",{cx:"10.01",cy:"17",r:"2",opacity:".3"},"0"),(0,T.jsx)("path",{d:"m12 3 .01 10.55c-.59-.34-1.27-.55-2-.55C7.79 13 6 14.79 6 17s1.79 4 4.01 4S14 19.21 14 17V7h4V3h-6zm-1.99 16c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"},"1")],"MusicNoteTwoTone"),L=n(5574),M=n(5661),O=n(493),F=n(6278),R=n(7064),z=n(220),P=n(9900),D=function(e){var t=e.open,n=e.setOpen,a=e.setSongType;return(0,T.jsxs)(L.Z,{onClose:function(){return n(!1)},open:t,children:[(0,T.jsx)(M.Z,{className:"text-sm",children:"Select Song Type"}),(0,T.jsxs)(O.Z,{children:[(0,T.jsxs)(F.Z,{onClick:function(){return a("Joyful")},children:[(0,T.jsx)(R.Z,{children:(0,T.jsx)(z.Z,{children:(0,T.jsx)(k,{})})}),(0,T.jsx)(P.Z,{primary:"Joyful Song"})]}),(0,T.jsxs)(F.Z,{onClick:function(){return a("Solemn")},children:[(0,T.jsx)(R.Z,{children:(0,T.jsx)(z.Z,{children:(0,T.jsx)(k,{})})}),(0,T.jsx)(P.Z,{primary:"Solemn Song"})]})]})]})},B=n(9445),G=function(e){var t,n,o=e.open,N=e.setOpen,k=(0,b.useState)(null),L=(0,i.Z)(k,2),M=L[0],O=L[1],F=(0,b.useState)(null),R=(0,i.Z)(F,2),z=R[0],P=R[1],G=(0,b.useState)(null),V=(0,i.Z)(G,2),A=V[0],E=V[1],W=(0,b.useState)(!1),U=(0,i.Z)(W,2),q=U[0],_=U[1],H=(0,b.useState)(!1),J=(0,i.Z)(H,2),K=J[0],Q=J[1],X=(0,b.useState)(!1),Y=(0,i.Z)(X,2),$=Y[0],ee=Y[1],te=(0,b.useState)(!1),ne=(0,i.Z)(te,2),ae=ne[0],re=ne[1],se=(0,b.useState)(null),ie=(0,i.Z)(se,2),oe=ie[0],le=ie[1],ce=(0,b.useState)(!0),ue=(0,i.Z)(ce,2),de=ue[0],pe=ue[1],me=(0,b.useState)(!1),fe=(0,i.Z)(me,2),ve=fe[0],xe=fe[1],Ze=(0,S.Z)(.8),ge=Ze.processfile,he=Ze.resized,ye=(0,b.useState)({title:!0,artist:!0,album:!0,lyrics:!0,chords:!0,media:!0,tag:!1}),be=(0,i.Z)(ye,2),je=be[0],Se=be[1],we=(0,b.useState)({cover:null,title:null,album:null,artist:null,lyrics:{verse:null,pre_chorus:null,chorus:null,bridge:null},chords:{verse:null,pre_chorus:null,chorus:null,bridge:null},media:{youtube:null,spotify:null},tags:["Joyful","Solemn"]}),Ce=(0,i.Z)(we,2),Ie=Ce[0],Ne=Ce[1];(0,b.useEffect)((function(){z&&ge(z)}),[z]),(0,b.useEffect)((function(){he&&Te()}),[he]),(0,b.useEffect)((function(){A&&Ne((0,s.Z)((0,s.Z)({},Ie),{},{cover:A}))}),[A]);var Te=function(){var e=(0,r.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,j.f8)({id:z.name,image:he});case 3:t=e.sent,n=t.photoURL,E(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,b.useEffect)((function(){Ne((0,s.Z)((0,s.Z)({},Ie),{},{cover:null===oe||void 0===oe?void 0:oe.photoURL}))}),[oe]),(0,b.useEffect)((function(){var e,t=null===Ie||void 0===Ie||null===(e=Ie.tags)||void 0===e?void 0:e.findIndex((function(e){return(null===e||void 0===e?void 0:e.toLowerCase())===(null===M||void 0===M?void 0:M.toLowerCase())}));ee(t>=0)}),[M]);var ke=function(){var e=(0,r.Z)(l().mark((function e(){var t,n,a,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.prev=1,t=Ie.title,n=Ie.artist,a=Ie.album,r=(0,s.Z)((0,s.Z)({},Ie),{},{title:null===t||void 0===t?void 0:t.trim(),artist:null===n||void 0===n?void 0:n.trim(),album:null===a||void 0===a?void 0:a.trim()}),e.next=6,(0,j.MH)({song:r});case 6:_(!1),Q(!0),setTimeout((function(){Q(!1)}),1e3),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),_(!1),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();(0,b.useEffect)((function(){o||(pe(!0),Ne({album:null,chords:null,cover:null,lyrics:null,tags:null,title:null,media:{youtube:null,spotify:null}}),P(null),le(null),O(null),E(null))}),[o]),(0,b.useEffect)((function(){q&&Se({title:!0,artist:!0,album:!0,lyrics:!0,chords:!0,media:!0,tag:!1})}),[q,o]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(D,{open:de&&o,setOpen:pe,setSongType:function(e){Ne((0,s.Z)((0,s.Z)({},Ie),{},{tags:[e]})),pe(!1)}}),(0,T.jsx)(w.Z,{open:ae,setOpen:re,setSelectedCover:le,selectedCover:oe,setImage:P,resized:he}),(0,T.jsx)(B.Z,{status:q,text:"Saving, "}),(0,T.jsx)(p.Z,{anchor:"bottom",open:o,onClose:function(){return N(!1)},className:"max-w-[680px] [&>.MuiDrawer-paper]:items-center",children:(0,T.jsxs)("div",{className:"max-w-[680px] m-x-auto w-full",children:[(0,T.jsx)(m.Z,{anchorOrigin:{horizontal:"center",vertical:"top"},open:K,autoHideDuration:1e3,onClose:function(){return Q(!1)},children:(0,T.jsxs)(f.Z,{severity:"success",sx:{width:"100%"},children:[null===Ie||void 0===Ie?void 0:Ie.title," is successfully saved!"]})}),(0,T.jsxs)("div",{className:"flex flex-row gap-2 bg-black/40 items-center",children:[(0,T.jsxs)("div",{className:"w-[70px] relative",children:[(0,T.jsx)("label",{htmlFor:"upload-cover",className:"absolute top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] z-10",children:(0,T.jsx)(v.Z,{component:"span",className:"bg-black/50 z-10",onClick:function(){return re(!0)},children:(0,T.jsx)(c.Z,{})})}),(0,T.jsx)("img",{src:(null===Ie||void 0===Ie?void 0:Ie.cover)||I,alt:"",className:"w-full"})]}),(0,T.jsx)("div",{className:"p-2 box-border flex-1",children:(0,T.jsxs)(x.Z,{size:"small",variant:"standard",fullWidth:!0,children:[(0,T.jsx)(Z.Z,{children:"Song Title"}),(0,T.jsx)(g.Z,{autoFocus:!0,onChange:function(e){return Ne((0,s.Z)((0,s.Z)({},Ie),{},{title:e.target.value}))},className:"INPUT [&>textarea]:text-xs [&::before]:!border-b-0 [&::after]:border-0 ".concat(je.title?"[&::before]:border-0":"")})]})})]}),(0,T.jsxs)("div",{className:"p-4 grid grid-cols-2 gap-4 space-y-0",children:[(0,T.jsx)("div",{className:"col-span-1",children:(0,T.jsxs)(x.Z,{size:"small",variant:"standard",fullWidth:!0,children:[(0,T.jsx)(Z.Z,{children:"Artist"}),(0,T.jsx)(g.Z,{onChange:function(e){return Ne((0,s.Z)((0,s.Z)({},Ie),{},{artist:e.target.value}))},className:"INPUT [&>textarea]:text-xs [&>label]:text-xs [&::before]:!border-b-0 [&::after]:border-0 ".concat(je.artist?"[&::before]:border-0":"")})]})}),(0,T.jsx)("div",{className:"col-span-1",children:(0,T.jsxs)(x.Z,{size:"small",variant:"standard",fullWidth:!0,children:[(0,T.jsx)(Z.Z,{children:"Album"}),(0,T.jsx)(g.Z,{onChange:function(e){return Ne((0,s.Z)((0,s.Z)({},Ie),{},{album:e.target.value}))},className:"INPUT [&>textarea]:text-xs [&::before]:!border-b-0 [&::after]:border-0 ".concat(je.album?"[&::before]:border-0":"")})]})})]}),(0,T.jsx)("div",{className:"px-4 mb-1 text-xs text-white/60",children:"Tags"}),(0,T.jsxs)("div",{className:"px-4 py-2 flex flex-row gap-2 flex-wrap",children:[null===Ie||void 0===Ie||null===(t=Ie.tags)||void 0===t?void 0:t.map((function(e){return(0,T.jsx)(h.Z,{label:e,size:"small",onDelete:function(){return function(e){var t=Ie.tags.filter((function(t){return t!==e}));Ne((0,s.Z)((0,s.Z)({},Ie),{},{tags:t}))}(e)}})})),!je.tag&&(0,T.jsx)(h.Z,{variant:"outlined",label:"+ Add Tag",size:"small",onClick:function(){return Se((0,s.Z)((0,s.Z)({},je),{},{tag:!0}))}})]}),(0,T.jsx)("div",{className:"px-4 py-2 flex flex-row",children:je.tag&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(y.Z,{fullWidth:!0,variant:"standard",size:"small",label:"New Tag",className:"TAG [&>label]:text-sm [&>div>input]:text-sm",onChange:function(e){return O(e.target.value)},error:$,helperText:$?"Tag already exists.":""}),(0,T.jsx)(v.Z,{onClick:function(){if(!$&&M){Se((0,s.Z)((0,s.Z)({},je),{},{tag:!1}));for(var e=M.split(" "),t=0;t<e.length;t++)e[t]=e[t].charAt(0).toUpperCase()+e[t].slice(1);var n=e.join(" ");Ne((0,s.Z)((0,s.Z)({},Ie),{},{tags:[].concat((0,a.Z)(Ie.tags),[n])}))}},disabled:!M||$,children:(0,T.jsx)(u.Z,{className:"w-[18px] h-[18px]"})}),(0,T.jsx)(v.Z,{onClick:function(){return Se((0,s.Z)((0,s.Z)({},je),{},{tag:!1}))},children:(0,T.jsx)(d.Z,{className:"w-[18px] h-[18px]"})})]})}),(0,T.jsx)("div",{className:"px-4 py-2",children:(0,T.jsxs)("button",{onClick:function(){return xe(!ve)},className:"px-2 py-1 bg-blue-500 text-white text-xs rounded-md",children:[ve?"Hide":null!==(n=Ie.lyrics)&&void 0!==n&&n.verse?"Show":"Add"," ","Lyrics"]})}),ve&&(0,T.jsx)(C.Z,{song:Ie,setSongDetails:Ne,save:ke,updating:q})]})})]})},V=b.memo(G)},5661:function(e,t,n){var a=n(7462),r=n(3366),s=n(2791),i=n(8182),o=n(4419),l=n(890),c=n(7630),u=n(1402),d=n(7673),p=n(5090),m=n(3329),f=["className","id"],v=(0,c.ZP)(l.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,t){return t.root}})({padding:"16px 24px",flex:"0 0 auto"}),x=s.forwardRef((function(e,t){var n=(0,u.Z)({props:e,name:"MuiDialogTitle"}),l=n.className,c=n.id,x=(0,r.Z)(n,f),Z=n,g=function(e){var t=e.classes;return(0,o.Z)({root:["root"]},d.a,t)}(Z),h=s.useContext(p.Z).titleId,y=void 0===h?c:h;return(0,m.jsx)(v,(0,a.Z)({component:"h2",className:(0,i.Z)(g.root,l),ownerState:Z,ref:t,variant:"h6",id:y},x))}));t.Z=x},7673:function(e,t,n){n.d(t,{a:function(){return r}});var a=n(1217);function r(e){return(0,a.Z)("MuiDialogTitle",e)}var s=(0,n(5878).Z)("MuiDialogTitle",["root"]);t.Z=s},6278:function(e,t,n){var a=n(4942),r=n(3366),s=n(7462),i=n(2791),o=n(8182),l=n(4419),c=n(2065),u=n(7630),d=n(1402),p=n(4986),m=n(162),f=n(2071),v=n(6199),x=n(4065),Z=n(3329),g=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected"],h=(0,u.ZP)(p.Z,{shouldForwardProp:function(e){return(0,u.FO)(e)||"classes"===e},name:"MuiListItemButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,s.Z)((t={display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,a.Z)(t,"&.".concat(x.Z.selected),(0,a.Z)({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,c.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(x.Z.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,c.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,a.Z)(t,"&.".concat(x.Z.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):(0,c.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,c.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),(0,a.Z)(t,"&.".concat(x.Z.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),(0,a.Z)(t,"&.".concat(x.Z.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),t),r.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},"flex-start"===r.alignItems&&{alignItems:"flex-start"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.dense&&{paddingTop:4,paddingBottom:4})})),y=i.forwardRef((function(e,t){var n=(0,d.Z)({props:e,name:"MuiListItemButton"}),a=n.alignItems,c=void 0===a?"center":a,u=n.autoFocus,p=void 0!==u&&u,y=n.component,b=void 0===y?"div":y,j=n.children,S=n.dense,w=void 0!==S&&S,C=n.disableGutters,I=void 0!==C&&C,N=n.divider,T=void 0!==N&&N,k=n.focusVisibleClassName,L=n.selected,M=void 0!==L&&L,O=(0,r.Z)(n,g),F=i.useContext(v.Z),R={dense:w||F.dense||!1,alignItems:c,disableGutters:I},z=i.useRef(null);(0,m.Z)((function(){p&&z.current&&z.current.focus()}),[p]);var P=(0,s.Z)({},n,{alignItems:c,dense:R.dense,disableGutters:I,divider:T,selected:M}),D=function(e){var t=e.alignItems,n=e.classes,a=e.dense,r=e.disabled,i={root:["root",a&&"dense",!e.disableGutters&&"gutters",e.divider&&"divider",r&&"disabled","flex-start"===t&&"alignItemsFlexStart",e.selected&&"selected"]},o=(0,l.Z)(i,x.t,n);return(0,s.Z)({},n,o)}(P),B=(0,f.Z)(z,t);return(0,Z.jsx)(v.Z.Provider,{value:R,children:(0,Z.jsx)(h,(0,s.Z)({ref:B,href:O.href||O.to,component:(O.href||O.to)&&"div"===b?"a":b,focusVisibleClassName:(0,o.Z)(D.focusVisible,k),ownerState:P},O,{classes:D,children:j}))})}));t.Z=y},4065:function(e,t,n){n.d(t,{t:function(){return r}});var a=n(1217);function r(e){return(0,a.Z)("MuiListItemButton",e)}var s=(0,n(5878).Z)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);t.Z=s},7064:function(e,t,n){var a=n(3366),r=n(7462),s=n(2791),i=n(8182),o=n(4419),l=n(7630),c=n(1402),u=n(6014),d=n(6199),p=n(3329),m=["className"],f=(0,l.ZP)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((function(e){var t=e.theme,n=e.ownerState;return(0,r.Z)({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===n.alignItems&&{marginTop:8})})),v=s.forwardRef((function(e,t){var n=(0,c.Z)({props:e,name:"MuiListItemIcon"}),l=n.className,v=(0,a.Z)(n,m),x=s.useContext(d.Z),Z=(0,r.Z)({},n,{alignItems:x.alignItems}),g=function(e){var t=e.alignItems,n=e.classes,a={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,o.Z)(a,u.f,n)}(Z);return(0,p.jsx)(f,(0,r.Z)({className:(0,i.Z)(g.root,l),ownerState:Z,ref:t},v))}));t.Z=v},6014:function(e,t,n){n.d(t,{f:function(){return r}});var a=n(1217);function r(e){return(0,a.Z)("MuiListItemIcon",e)}var s=(0,n(5878).Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);t.Z=s},9900:function(e,t,n){var a=n(4942),r=n(3366),s=n(7462),i=n(2791),o=n(8182),l=n(4419),c=n(890),u=n(6199),d=n(1402),p=n(7630),m=n(9849),f=n(3329),v=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],x=(0,p.ZP)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,a.Z)({},"& .".concat(m.Z.primary),t.primary),(0,a.Z)({},"& .".concat(m.Z.secondary),t.secondary),t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((function(e){var t=e.ownerState;return(0,s.Z)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),Z=i.forwardRef((function(e,t){var n=(0,d.Z)({props:e,name:"MuiListItemText"}),a=n.children,p=n.className,Z=n.disableTypography,g=void 0!==Z&&Z,h=n.inset,y=void 0!==h&&h,b=n.primary,j=n.primaryTypographyProps,S=n.secondary,w=n.secondaryTypographyProps,C=(0,r.Z)(n,v),I=i.useContext(u.Z).dense,N=null!=b?b:a,T=S,k=(0,s.Z)({},n,{disableTypography:g,inset:y,primary:!!N,secondary:!!T,dense:I}),L=function(e){var t=e.classes,n=e.inset,a=e.primary,r=e.secondary,s={root:["root",n&&"inset",e.dense&&"dense",a&&r&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,l.Z)(s,m.L,t)}(k);return null==N||N.type===c.Z||g||(N=(0,f.jsx)(c.Z,(0,s.Z)({variant:I?"body2":"body1",className:L.primary,component:"span",display:"block"},j,{children:N}))),null==T||T.type===c.Z||g||(T=(0,f.jsx)(c.Z,(0,s.Z)({variant:"body2",className:L.secondary,color:"text.secondary",display:"block"},w,{children:T}))),(0,f.jsxs)(x,(0,s.Z)({className:(0,o.Z)(L.root,p),ownerState:k,ref:t},C,{children:[N,T]}))}));t.Z=Z},9849:function(e,t,n){n.d(t,{L:function(){return r}});var a=n(1217);function r(e){return(0,a.Z)("MuiListItemText",e)}var s=(0,n(5878).Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);t.Z=s}}]);
//# sourceMappingURL=3986.cc005791.chunk.js.map