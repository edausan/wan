"use strict";(self.webpackChunkwan_bagtas=self.webpackChunkwan_bagtas||[]).push([[3986],{1674:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var a=n(3433),r=n(5861),s=n(1413),i=n(9439),o=n(7757),l=n.n(o),c=n(3005),d=n(1993),u=n(787),p=n(7112),m=n(5646),v=n(9658),f=n(3400),x=n(8096),Z=n(4925),g=n(292),h=n(1918),y=n(7391),b=n(2791),j=n(4681),w=n(4054),S=n(3252),C=n(1089),N=n(6929),I=n(9201),T=n(184),k=(0,I.Z)([(0,T.jsx)("circle",{cx:"10.01",cy:"17",r:"2",opacity:".3"},"0"),(0,T.jsx)("path",{d:"m12 3 .01 10.55c-.59-.34-1.27-.55-2-.55C7.79 13 6 14.79 6 17s1.79 4 4.01 4S14 19.21 14 17V7h4V3h-6zm-1.99 16c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"},"1")],"MusicNoteTwoTone"),O=n(5574),F=n(5661),L=n(493),R=n(6278),M=n(7064),z=n(220),P=n(9900),D=function(e){var t=e.open,n=e.setOpen,a=e.setSongType;return(0,T.jsxs)(O.Z,{onClose:function(){return n(!1)},open:t,children:[(0,T.jsx)(F.Z,{className:"text-sm",children:"Select Song Type"}),(0,T.jsxs)(L.Z,{children:[(0,T.jsxs)(R.Z,{onClick:function(){return a("Joyful")},children:[(0,T.jsx)(M.Z,{children:(0,T.jsx)(z.Z,{children:(0,T.jsx)(k,{})})}),(0,T.jsx)(P.Z,{primary:"Joyful Song"})]}),(0,T.jsxs)(R.Z,{onClick:function(){return a("Solemn")},children:[(0,T.jsx)(M.Z,{children:(0,T.jsx)(z.Z,{children:(0,T.jsx)(k,{})})}),(0,T.jsx)(P.Z,{primary:"Solemn Song"})]})]})]})},B=n(9445),G=function(e){var t,n,o,I,k,O=e.open,F=e.setOpen,L=(0,b.useState)(null),R=(0,i.Z)(L,2),M=R[0],z=R[1],P=(0,b.useState)(null),G=(0,i.Z)(P,2),V=G[0],A=G[1],E=(0,b.useState)(null),W=(0,i.Z)(E,2),U=W[0],_=W[1],q=(0,b.useState)(!1),H=(0,i.Z)(q,2),J=H[0],K=H[1],Q=(0,b.useState)(!1),X=(0,i.Z)(Q,2),Y=X[0],$=X[1],ee=(0,b.useState)(!1),te=(0,i.Z)(ee,2),ne=te[0],ae=te[1],re=(0,b.useState)(!1),se=(0,i.Z)(re,2),ie=se[0],oe=se[1],le=(0,b.useState)(null),ce=(0,i.Z)(le,2),de=ce[0],ue=ce[1],pe=(0,b.useState)(!0),me=(0,i.Z)(pe,2),ve=me[0],fe=me[1],xe=(0,b.useState)(!1),Ze=(0,i.Z)(xe,2),ge=Ze[0],he=Ze[1],ye=(0,w.Z)(.8),be=ye.processfile,je=ye.resized,we=(0,b.useState)({title:!0,artist:!0,album:!0,lyrics:!0,chords:!0,media:!0,tag:!1}),Se=(0,i.Z)(we,2),Ce=Se[0],Ne=Se[1],Ie=(0,b.useState)({cover:null,title:null,album:null,artist:null,key:null,lyrics:{verse:null,pre_chorus:null,chorus:null,bridge:null},chords:{verse:null,pre_chorus:null,chorus:null,bridge:null},media:{youtube:null,spotify:null},tags:["Joyful","Solemn"]}),Te=(0,i.Z)(Ie,2),ke=Te[0],Oe=Te[1];(0,b.useEffect)((function(){V&&be(V)}),[V]),(0,b.useEffect)((function(){je&&Fe()}),[je]),(0,b.useEffect)((function(){U&&Oe((0,s.Z)((0,s.Z)({},ke),{},{cover:U}))}),[U]);var Fe=function(){var e=(0,r.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,j.f8)({id:V.name,image:je});case 3:t=e.sent,n=t.photoURL,_(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,b.useEffect)((function(){Oe((0,s.Z)((0,s.Z)({},ke),{},{cover:null===de||void 0===de?void 0:de.photoURL}))}),[de]),(0,b.useEffect)((function(){var e,t=null===ke||void 0===ke||null===(e=ke.tags)||void 0===e?void 0:e.findIndex((function(e){return(null===e||void 0===e?void 0:e.toLowerCase())===(null===M||void 0===M?void 0:M.toLowerCase())}));ae(t>=0)}),[M]);var Le=function(){var e=(0,r.Z)(l().mark((function e(){var t,n,a,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(!0),e.prev=1,t=ke.title,n=ke.artist,a=ke.album,r=(0,s.Z)((0,s.Z)({},ke),{},{title:null===t||void 0===t?void 0:t.trim(),artist:n?null===n||void 0===n?void 0:n.trim():null,album:a?null===a||void 0===a?void 0:a.trim():null}),e.next=6,(0,j.MH)({song:r});case 6:K(!1),$(!0),setTimeout((function(){F(!1),$(!1)}),1e3),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),K(!1),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();(0,b.useEffect)((function(){O||(fe(!0),Oe({album:null,chords:null,cover:null,lyrics:null,tags:null,title:null,media:{youtube:null,spotify:null}}),A(null),ue(null),z(null),_(null))}),[O]),(0,b.useEffect)((function(){J&&Ne({title:!0,artist:!0,album:!0,lyrics:!0,chords:!0,media:!0,tag:!1})}),[J,O]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(D,{open:ve&&O,setOpen:fe,setSongType:function(e){Oe((0,s.Z)((0,s.Z)({},ke),{},{tags:[e]})),fe(!1)}}),(0,T.jsx)(S.Z,{open:ie,setOpen:oe,setSelectedCover:ue,selectedCover:de,setImage:A,resized:je}),(0,T.jsx)(B.Z,{status:J,text:"Saving, "}),(0,T.jsx)(p.Z,{anchor:"bottom",open:O,onClose:function(){return F(!1)},className:"max-w-[680px] [&>.MuiDrawer-paper]:items-center",children:(0,T.jsxs)("div",{className:"max-w-[680px] m-x-auto w-full",children:[(0,T.jsx)(m.Z,{anchorOrigin:{horizontal:"center",vertical:"top"},open:Y,autoHideDuration:null,onClose:function(){return $(!1)},children:(0,T.jsxs)(v.Z,{severity:"success",sx:{width:"100%"},children:[null===ke||void 0===ke?void 0:ke.title," is successfully saved!"]})}),(0,T.jsxs)("div",{className:"flex flex-row gap-2 bg-black/40 items-center",children:[(0,T.jsxs)("div",{className:"w-[70px] relative",children:[(0,T.jsx)("label",{htmlFor:"upload-cover",className:"absolute top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] z-10",children:(0,T.jsx)(f.Z,{component:"span",className:"bg-black/50 z-10",onClick:function(){return oe(!0)},children:(0,T.jsx)(c.Z,{})})}),(0,T.jsx)("img",{src:(null===ke||void 0===ke?void 0:ke.cover)||N,alt:"",className:"w-full"})]}),(0,T.jsx)("div",{className:"p-2 box-border flex-1",children:(0,T.jsxs)(x.Z,{size:"small",variant:"standard",fullWidth:!0,children:[(0,T.jsx)(Z.Z,{children:"Song Title"}),(0,T.jsx)(g.Z,{autoFocus:!0,onChange:function(e){return Oe((0,s.Z)((0,s.Z)({},ke),{},{title:e.target.value}))},className:"INPUT [&>textarea]:text-xs [&::before]:!border-b-0 [&::after]:border-0 ".concat(Ce.title?"[&::before]:border-0":"")})]})})]}),(0,T.jsxs)("div",{className:"p-4 grid grid-cols-2 gap-4 space-y-0",children:[(0,T.jsx)("div",{className:"col-span-1",children:(0,T.jsxs)(x.Z,{size:"small",variant:"standard",fullWidth:!0,children:[(0,T.jsx)(Z.Z,{children:"Artist"}),(0,T.jsx)(g.Z,{onChange:function(e){return Oe((0,s.Z)((0,s.Z)({},ke),{},{artist:e.target.value}))},className:"INPUT [&>textarea]:text-xs [&>label]:text-xs [&::before]:!border-b-0 [&::after]:border-0 ".concat(Ce.artist?"[&::before]:border-0":"")})]})}),(0,T.jsx)("div",{className:"col-span-1",children:(0,T.jsxs)(x.Z,{size:"small",variant:"standard",fullWidth:!0,children:[(0,T.jsx)(Z.Z,{children:"Album"}),(0,T.jsx)(g.Z,{onChange:function(e){return Oe((0,s.Z)((0,s.Z)({},ke),{},{album:e.target.value}))},className:"INPUT [&>textarea]:text-xs [&::before]:!border-b-0 [&::after]:border-0 ".concat(Ce.album?"[&::before]:border-0":"")})]})})]}),(0,T.jsx)("div",{className:"px-4 mb-1 text-xs text-white/60",children:"Tags"}),(0,T.jsxs)("div",{className:"px-4 py-2 flex flex-row gap-2 flex-wrap",children:[null===ke||void 0===ke||null===(t=ke.tags)||void 0===t?void 0:t.map((function(e){return(0,T.jsx)(h.Z,{label:e,size:"small",onDelete:function(){return function(e){var t=ke.tags.filter((function(t){return t!==e}));Oe((0,s.Z)((0,s.Z)({},ke),{},{tags:t}))}(e)}})})),!Ce.tag&&(0,T.jsx)(h.Z,{variant:"outlined",label:"+ Add Tag",size:"small",onClick:function(){return Ne((0,s.Z)((0,s.Z)({},Ce),{},{tag:!0}))}})]}),(0,T.jsx)("div",{className:"px-4 py-2 flex flex-row",children:Ce.tag&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(y.Z,{fullWidth:!0,variant:"standard",size:"small",label:"New Tag",className:"TAG [&>label]:text-sm [&>div>input]:text-sm",onChange:function(e){return z(e.target.value)},error:ne,helperText:ne?"Tag already exists.":""}),(0,T.jsx)(f.Z,{onClick:function(){if(!ne&&M){Ne((0,s.Z)((0,s.Z)({},Ce),{},{tag:!1}));for(var e=M.split(" "),t=0;t<e.length;t++)e[t]=e[t].charAt(0).toUpperCase()+e[t].slice(1);var n=e.join(" ");Oe((0,s.Z)((0,s.Z)({},ke),{},{tags:[].concat((0,a.Z)(ke.tags),[n])}))}},disabled:!M||ne,children:(0,T.jsx)(d.Z,{className:"w-[18px] h-[18px]"})}),(0,T.jsx)(f.Z,{onClick:function(){return Ne((0,s.Z)((0,s.Z)({},Ce),{},{tag:!1}))},children:(0,T.jsx)(u.Z,{className:"w-[18px] h-[18px]"})})]})}),(0,T.jsx)("div",{className:"px-4 py-2 flex flex-row justify-end",children:(0,T.jsxs)("button",{onClick:function(){return he(!ge)},className:"px-4 py-1 bg-blue-500 text-white text-xs rounded-full",children:[ge?"Hide":null!==ke&&void 0!==ke&&null!==(n=ke.lyrics)&&void 0!==n&&n.verse||null!==ke&&void 0!==ke&&null!==(o=ke.lyrics)&&void 0!==o&&o.pre_chorus||null!==ke&&void 0!==ke&&null!==(I=ke.lyrics)&&void 0!==I&&I.chorus||null!==ke&&void 0!==ke&&null!==(k=ke.lyrics)&&void 0!==k&&k.bridge?"Show":"Add"," ","Lyrics / Chords"]})}),ge&&(0,T.jsx)(C.Z,{song:ke,setSongDetails:Oe,save:Le,updating:J}),(0,T.jsx)("div",{className:"flex flex-row items-center justify-center p-2",children:(0,T.jsx)("button",{className:"flex-1 bg-green-500 text-white disabled:bg-black/30 disabled:text-white/25 py-1 rounded-sm",disabled:!(null!==ke&&void 0!==ke&&ke.title),onClick:Le,children:"Save Song"})})]})})]})},V=b.memo(G)},5661:function(e,t,n){var a=n(7462),r=n(3366),s=n(2791),i=n(8182),o=n(4419),l=n(890),c=n(7630),d=n(1402),u=n(7673),p=n(5090),m=n(184),v=["className","id"],f=(0,c.ZP)(l.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,t){return t.root}})({padding:"16px 24px",flex:"0 0 auto"}),x=s.forwardRef((function(e,t){var n=(0,d.Z)({props:e,name:"MuiDialogTitle"}),l=n.className,c=n.id,x=(0,r.Z)(n,v),Z=n,g=function(e){var t=e.classes;return(0,o.Z)({root:["root"]},u.a,t)}(Z),h=s.useContext(p.Z).titleId,y=void 0===h?c:h;return(0,m.jsx)(f,(0,a.Z)({component:"h2",className:(0,i.Z)(g.root,l),ownerState:Z,ref:t,variant:"h6",id:y},x))}));t.Z=x},7673:function(e,t,n){n.d(t,{a:function(){return r}});var a=n(1217);function r(e){return(0,a.Z)("MuiDialogTitle",e)}var s=(0,n(5878).Z)("MuiDialogTitle",["root"]);t.Z=s},6278:function(e,t,n){var a=n(4942),r=n(3366),s=n(7462),i=n(2791),o=n(8182),l=n(4419),c=n(2065),d=n(7630),u=n(1402),p=n(4986),m=n(162),v=n(2071),f=n(6199),x=n(4065),Z=n(184),g=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected"],h=(0,d.ZP)(p.Z,{shouldForwardProp:function(e){return(0,d.FO)(e)||"classes"===e},name:"MuiListItemButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,s.Z)((t={display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,a.Z)(t,"&.".concat(x.Z.selected),(0,a.Z)({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,c.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(x.Z.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,c.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,a.Z)(t,"&.".concat(x.Z.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):(0,c.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,c.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),(0,a.Z)(t,"&.".concat(x.Z.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),(0,a.Z)(t,"&.".concat(x.Z.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),t),r.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},"flex-start"===r.alignItems&&{alignItems:"flex-start"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.dense&&{paddingTop:4,paddingBottom:4})})),y=i.forwardRef((function(e,t){var n=(0,u.Z)({props:e,name:"MuiListItemButton"}),a=n.alignItems,c=void 0===a?"center":a,d=n.autoFocus,p=void 0!==d&&d,y=n.component,b=void 0===y?"div":y,j=n.children,w=n.dense,S=void 0!==w&&w,C=n.disableGutters,N=void 0!==C&&C,I=n.divider,T=void 0!==I&&I,k=n.focusVisibleClassName,O=n.selected,F=void 0!==O&&O,L=(0,r.Z)(n,g),R=i.useContext(f.Z),M={dense:S||R.dense||!1,alignItems:c,disableGutters:N},z=i.useRef(null);(0,m.Z)((function(){p&&z.current&&z.current.focus()}),[p]);var P=(0,s.Z)({},n,{alignItems:c,dense:M.dense,disableGutters:N,divider:T,selected:F}),D=function(e){var t=e.alignItems,n=e.classes,a=e.dense,r=e.disabled,i={root:["root",a&&"dense",!e.disableGutters&&"gutters",e.divider&&"divider",r&&"disabled","flex-start"===t&&"alignItemsFlexStart",e.selected&&"selected"]},o=(0,l.Z)(i,x.t,n);return(0,s.Z)({},n,o)}(P),B=(0,v.Z)(z,t);return(0,Z.jsx)(f.Z.Provider,{value:M,children:(0,Z.jsx)(h,(0,s.Z)({ref:B,href:L.href||L.to,component:(L.href||L.to)&&"div"===b?"a":b,focusVisibleClassName:(0,o.Z)(D.focusVisible,k),ownerState:P},L,{classes:D,children:j}))})}));t.Z=y},4065:function(e,t,n){n.d(t,{t:function(){return r}});var a=n(1217);function r(e){return(0,a.Z)("MuiListItemButton",e)}var s=(0,n(5878).Z)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);t.Z=s},7064:function(e,t,n){var a=n(3366),r=n(7462),s=n(2791),i=n(8182),o=n(4419),l=n(7630),c=n(1402),d=n(6014),u=n(6199),p=n(184),m=["className"],v=(0,l.ZP)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((function(e){var t=e.theme,n=e.ownerState;return(0,r.Z)({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===n.alignItems&&{marginTop:8})})),f=s.forwardRef((function(e,t){var n=(0,c.Z)({props:e,name:"MuiListItemIcon"}),l=n.className,f=(0,a.Z)(n,m),x=s.useContext(u.Z),Z=(0,r.Z)({},n,{alignItems:x.alignItems}),g=function(e){var t=e.alignItems,n=e.classes,a={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,o.Z)(a,d.f,n)}(Z);return(0,p.jsx)(v,(0,r.Z)({className:(0,i.Z)(g.root,l),ownerState:Z,ref:t},f))}));t.Z=f},9900:function(e,t,n){var a=n(4942),r=n(3366),s=n(7462),i=n(2791),o=n(8182),l=n(4419),c=n(890),d=n(6199),u=n(1402),p=n(7630),m=n(9849),v=n(184),f=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],x=(0,p.ZP)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,a.Z)({},"& .".concat(m.Z.primary),t.primary),(0,a.Z)({},"& .".concat(m.Z.secondary),t.secondary),t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((function(e){var t=e.ownerState;return(0,s.Z)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),Z=i.forwardRef((function(e,t){var n=(0,u.Z)({props:e,name:"MuiListItemText"}),a=n.children,p=n.className,Z=n.disableTypography,g=void 0!==Z&&Z,h=n.inset,y=void 0!==h&&h,b=n.primary,j=n.primaryTypographyProps,w=n.secondary,S=n.secondaryTypographyProps,C=(0,r.Z)(n,f),N=i.useContext(d.Z).dense,I=null!=b?b:a,T=w,k=(0,s.Z)({},n,{disableTypography:g,inset:y,primary:!!I,secondary:!!T,dense:N}),O=function(e){var t=e.classes,n=e.inset,a=e.primary,r=e.secondary,s={root:["root",n&&"inset",e.dense&&"dense",a&&r&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,l.Z)(s,m.L,t)}(k);return null==I||I.type===c.Z||g||(I=(0,v.jsx)(c.Z,(0,s.Z)({variant:N?"body2":"body1",className:O.primary,component:"span",display:"block"},j,{children:I}))),null==T||T.type===c.Z||g||(T=(0,v.jsx)(c.Z,(0,s.Z)({variant:"body2",className:O.secondary,color:"text.secondary",display:"block"},S,{children:T}))),(0,v.jsxs)(x,(0,s.Z)({className:(0,o.Z)(O.root,p),ownerState:k,ref:t},C,{children:[I,T]}))}));t.Z=Z}}]);
//# sourceMappingURL=3986.74bdd832.chunk.js.map