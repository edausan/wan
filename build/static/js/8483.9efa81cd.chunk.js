"use strict";(self.webpackChunkwan_bagtas=self.webpackChunkwan_bagtas||[]).push([[8483],{4282:function(n,e,l){l.r(e);var s=l(3433),i=l(1413),t=l(5861),r=l(9439),a=l(7757),o=l.n(a),d=l(2791),u=l(7235),c=l(7355),x=l(2286),h=l(983),f=l(5033),m=l(9348),p=l(6923),g=l(4361),v=l(690),b=l(3425),Z=l(936),j=l(3967),y=l(7621),S=l(9585),w=l(220),k=l(3400),_=l(9504),C=l(493),N=l(6823),P=l(5818),L=l(5021),z=l(7064),O=l(9900),W=l(4721),E=l(3721),I=l(2363),T=l(8388),A=l(2426),J=l.n(A),D=l(1903),U=l(9271),G=l(1523),H=l(8439),M=l(9431),F=l(4681),q=l(3329),R=d.lazy((function(){return Promise.all([l.e(9953),l.e(5646),l.e(2667),l.e(1918),l.e(7087),l.e(3753),l.e(8522),l.e(929),l.e(7047)]).then(l.bind(l,929))})),V=d.lazy((function(){return Promise.all([l.e(9953),l.e(5646),l.e(2667),l.e(3753),l.e(4127)]).then(l.bind(l,944))})),B=d.lazy((function(){return Promise.all([l.e(9953),l.e(5497)]).then(l.bind(l,5497))}));e.default=function(n){var e,l,a,A,Q,X,$,K=n.lineup,Y=n.isBordered,nn=n.isLast,en=n.isSongsExpanded,ln=(0,H.v0)(M.O).currentUser,sn=(0,U.k6)(),tn=(0,j.Z)(),rn=(0,d.useState)(!1),an=(0,r.Z)(rn,2),on=an[0],dn=an[1],un=(0,d.useState)({song:null,id:null}),cn=(0,r.Z)(un,2),xn=cn[0],hn=cn[1],fn=(0,d.useState)(!1),mn=(0,r.Z)(fn,2),pn=mn[0],gn=mn[1],vn=(0,d.useState)(!1),bn=(0,r.Z)(vn,2),Zn=bn[0],jn=bn[1],yn=(0,d.useState)([]),Sn=(0,r.Z)(yn,2),wn=Sn[0],kn=Sn[1],_n=(0,d.useState)(!1),Cn=(0,r.Z)(_n,2),Nn=Cn[0],Pn=Cn[1],Ln=(0,d.useState)({song:null,status:!1}),zn=(0,r.Z)(Ln,2),On=zn[0],Wn=zn[1];(0,d.useEffect)((function(){K.songs.length>0&&K.songs[0].title&&En()}),[K.songs]);var En=function(){var n=(0,t.Z)(o().mark((function n(){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=[],K.songs.map(function(){var n=(0,t.Z)(o().mark((function n(l){var s;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,F.dJ)({song:l});case 2:s=n.sent,e.push((0,i.Z)((0,i.Z)({},s),{},{label:l.label}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),kn(e);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),In=function(n,e){hn({song:n,id:e}),dn(!on)},Tn=function(){var n=(0,t.Z)(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(0,F.ZH)({id:K.id});case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),An=function(){var n,e=null===K||void 0===K||null===(n=K.heart)||void 0===n?void 0:n.findIndex((function(n){return n===ln.uid}));-1!==e&&void 0!==e||(0,F.Ob)({lineupId:K.id,userIds:[].concat((0,s.Z)(null===K||void 0===K?void 0:K.heart),[ln.uid])})},Jn=K.songs[0].title?wn:K.songs;return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(d.Suspense,{fallback:(0,q.jsx)("div",{}),children:(0,q.jsx)(V,{drawerData:xn,expanded:on,handleClose:function(){},handleCopy:function(){var n=document.querySelector("#verse"),e=document.querySelector("#pre-chorus"),l=document.querySelector("#chorus");navigator.clipboard.writeText("".concat(n?"Verse:\r\n".concat(n.innerHTML,"\r\n\r\n"):"").concat(e?"Pre-chorus:\r\n".concat(e.innerHTML,"\r\n\r\n"):"").concat(l?"Chorus:\r\n".concat(l.innerHTML):"")),jn(!0),setTimeout((function(){jn(!1)}),1e3)},handleExpandClick:In,open:Zn})}),(0,q.jsx)(d.Suspense,{fallback:(0,q.jsx)("div",{}),children:(0,q.jsx)(R,{drawer:On,setOpen:Wn})}),(0,q.jsx)(d.Suspense,{fallback:(0,q.jsx)("div",{}),children:(0,q.jsx)(B,{setOpen:Pn,open:Nn,handleDelete:Tn,handleEdit:function(){sn.push("/lineup/edit/".concat(K.id))},user:ln,lineup:K})}),(0,q.jsxs)(y.Z,{sx:{maxWidth:"100%",mb:Y&&nn?0:Y?1:2,border:"none",borderRadius:Y?0:""},variant:Y?"outlined":"elevation",children:[(0,q.jsx)(S.Z,{sx:{pb:0},avatar:(0,q.jsx)(G.rU,{to:"/profile/".concat(null===K||void 0===K||null===(e=K.worship_leader)||void 0===e?void 0:e.uid),style:{textDecoration:"none",color:"inherit"},children:(0,q.jsx)(w.Z,{sx:{background:"linear-gradient(45deg, ".concat(D.iQ,", ").concat(D.iN,")"),color:"#fff"},"aria-label":"recipe",src:null===K||void 0===K||null===(l=K.worship_leader)||void 0===l?void 0:l.photoURL,children:null===K||void 0===K?void 0:K.worship_leader.displayName.split("")[0]})}),action:(0,q.jsx)(q.Fragment,{children:(ln.uid===(null===(a=K.worship_leader)||void 0===a?void 0:a.uid)||ln.uid===T.GN)&&(0,q.jsx)(k.Z,{"aria-label":"settings",onClick:function(){return Pn(!0)},children:(0,q.jsx)(u.Z,{})})}),title:(0,q.jsx)(G.rU,{to:"/profile/".concat(null===(A=K.worship_leader)||void 0===A?void 0:A.uid),style:{textDecoration:"none",color:"inherit"},children:null===(Q=K.worship_leader)||void 0===Q?void 0:Q.displayName}),subheader:(0,q.jsxs)("small",{children:[J()(K.date_created).startOf("minute").fromNow()," ",K.date_updated&&(0,q.jsxs)("span",{style:{color:"#777"},children:["\u2022 Edited:"," ",J()(K.date_updated).startOf("minute").fromNow()]})]})}),(0,q.jsx)(_.Z,{sx:{py:0},children:(0,q.jsx)(C.Z,{sx:{py:0,mt:1},children:(0,q.jsxs)(N.Z,{expanded:pn||en,disableGutters:!0,sx:{boxShadow:"none",py:0,background:"none"},children:[(0,q.jsx)(P.Z,{sx:{px:0,pr:1},expandIcon:(0,q.jsx)(c.Z,{}),"aria-controls":"panel1a-content",id:"panel1a-header",onClick:function(){return gn(!pn)},children:(0,q.jsxs)(L.ZP,{sx:{py:0},children:[(0,q.jsx)(z.Z,{sx:{minWidth:35},children:J()(K.date).diff(new Date)<0?(0,q.jsx)(x.Z,{color:"success"}):(0,q.jsx)(h.Z,{fontSize:"small",color:J()(K.date).diff(new Date)>=0?"warning":"inherit"})}),(0,q.jsx)(O.Z,{primary:(0,q.jsxs)("small",{className:"text-xs",children:[null===K||void 0===K?void 0:K.service,(0,q.jsx)("div",{style:{color:tn.palette.text.secondary},className:"text-xs",children:J()(K.date).format("LL")})]})})]})}),(0,q.jsx)(W.Z,{}),(0,q.jsx)(E.Z,{sx:{px:0},children:Jn.filter((function(n){return n.song||n.title})).map((function(n){var e,l,s,i,t,r,a,o;return(0,q.jsxs)(L.ZP,{children:[(0,q.jsx)(O.Z,{onClick:function(){return Wn({song:n,status:!0})},primary:(0,q.jsx)("span",{className:"text-sm",children:n.title||n.song}),secondary:(0,q.jsx)("span",{className:"text-xs text-white/40",children:n.label})}),(0,q.jsx)(k.Z,{color:"primary",disabled:!(null!==(e=n.lyrics)&&void 0!==e&&e.verse)&&!(null!==(l=n.lyrics)&&void 0!==l&&l.pre_chorus)&&!(null!==(s=n.lyrics)&&void 0!==s&&s.chorus),onClick:function(){return In(n,"Lyrics")},sx:{mr:1},children:(0,q.jsx)(f.Z,{fontSize:"small"})}),(0,q.jsx)(k.Z,{color:"secondary",onClick:function(){return In(n,"Chords")},disabled:!(null!==(i=n.chords)&&void 0!==i&&i.verse)&&!(null!==(t=n.chords)&&void 0!==t&&t.pre_chorus)&&!(null!==(r=n.chords)&&void 0!==r&&r.chorus),sx:{mr:1},children:(0,q.jsx)(m.Z,{fontSize:"small"})}),(0,q.jsx)(k.Z,{color:"error",disabled:!(null!==n&&void 0!==n&&null!==(a=n.media)&&void 0!==a&&a.youtube)&&!(null!==n&&void 0!==n&&null!==(o=n.media)&&void 0!==o&&o.spotify),children:(0,q.jsx)(p.Z,{fontSize:"small"})})]},n.id)}))})]})})}),(0,q.jsxs)(I.Z,{disableSpacing:!0,children:[(0,q.jsxs)(k.Z,{"aria-label":"add to favorites",onClick:An,children:[(null===K||void 0===K||null===(X=K.heart)||void 0===X?void 0:X.findIndex((function(n){return n===ln.uid})))>=0?(0,q.jsx)(g.Z,{color:"error"}):(0,q.jsx)(v.Z,{onClick:An})," "]}),(0,q.jsx)("small",{style:{marginLeft:6,fontSize:14},children:null===K||void 0===K||null===($=K.heart)||void 0===$?void 0:$.length}),(0,q.jsx)("a",{href:"https://m.me/j/Aba8ddZutv5MvPbi/",style:{textDecoration:"none",color:"inherit"},onClick:function(){navigator.clipboard.writeText("https://wan-belleview.web.app/lineup/".concat(K.id))},className:"ml-2",children:(0,q.jsx)(k.Z,{"aria-label":"share",children:(0,q.jsx)(b.Z,{fontSize:"small"})})}),(0,q.jsx)(k.Z,{"aria-label":"view",onClick:function(){return sn.push("/lineup/".concat(K.id))},name:"View Lineup",sx:{marginLeft:"auto"},children:(0,q.jsx)(Z.Z,{fontSize:"small"})})]})]})]})}},8483:function(n,e,l){l.r(e);var s=l(5861),i=l(9439),t=l(7757),r=l.n(t),a=l(2791),o=l(9271),d=l(184),u=l(4681),c=l(4282),x=l(3329),h=function(){var n=(0,o.UO)(),e=(0,a.useContext)(d.t).scrollToTop,l=(0,a.useState)(null),t=(0,i.Z)(l,2),h=t[0],f=t[1];(0,a.useEffect)((function(){e(),m()}),[]);var m=function(){var e=(0,s.Z)(r().mark((function e(){var l,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.id,e.next=3,(0,u.$$)({id:l});case 3:s=e.sent,f(s),console.log({lineup:s});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,x.jsx)("div",{children:h&&(0,x.jsx)(c.default,{lineup:h,isSongsExpanded:!0})})};e.default=a.memo(h)},1903:function(n,e,l){l.d(e,{iN:function(){return P},iQ:function(){return L}});var s=l(1413),i=l(5861),t=l(9439),r=l(7757),a=l.n(r),o=l(7032),d=l(5600),u=l(9569),c=l(3710),x=l(2588),h=l(3967),f=l(3400),m=l(7621),p=l(9658),g=l(1889),v=l(7391),b=l(292),Z=l(3466),j=l(6151),y=l(2791),S=l(184),w=l(4791),k=l(5366),_=l(9276),C=(l(4246),l(9137),l(343)),N=l(3329),P="#00addd",L="#f51088";e.ZP=function(n){var e=n.setScreen,l=(0,h.Z)(),r=(0,y.useContext)(S.t),P=r.setMode,L=r.mode,z=r.setCurrentUser,O=(r.setIsLoggedIn,(0,y.useState)(!1)),W=(0,t.Z)(O,2),E=W[0],I=W[1],T=(0,y.useState)({email:"",password:""}),A=(0,t.Z)(T,2),J=A[0],D=A[1],U=(0,y.useState)(null),G=(0,t.Z)(U,2),H=(G[0],G[1]),M=(0,y.useState)(!1),F=(0,t.Z)(M,2),q=F[0],R=F[1],V=(0,y.useState)(null),B=(0,t.Z)(V,2),Q=B[0],X=B[1],$=function(){var n=(0,i.Z)(a().mark((function n(){var e,l,s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return R(!0),X(null),n.next=4,(0,w.cL)({email:J.email,password:J.password});case 4:l=n.sent,console.log({response:l}),null!==(e=l.user)&&void 0!==e&&e.auth?(z(l),H(l.user.uid)):(console.log({error:l}),s="auth/email-already-in-use"===l.code?"Email already in use":"auth/wrong-password"===l.code||"auth/user-not-found"===l.code?"The email or password that you've entered doesn't match any account.":"No internet connection.",X(s),R(!1));case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(f.Z,{onClick:function(){return P(!L)},sx:{position:"fixed",left:20,bottom:20,zIndex:1002},children:"dark"===l.palette.mode?(0,N.jsx)(o.Z,{}):(0,N.jsx)(d.Z,{})}),(0,N.jsxs)(m.Z,{sx:{py:4,px:4,textAlign:"center",m:2,width:"auto",maxWidth:345,background:"#ffffff28",backdropFilter:"blur(5px)",boxSizing:"border-box",boxShadow:"0 10px 30px -5px rgba(0,0,0,.3)",zIndex:1002},children:[(0,N.jsx)(_.Z,{sx:{width:"100%",mb:4},children:(0,N.jsx)("img",{src:C,alt:"WAN | Belleview",style:{width:"100%"}})}),Q&&(0,N.jsx)(p.Z,{severity:"error",sx:{mb:1,textAlign:"left",fontSize:12},onClose:function(){return X(null)},children:Q}),(0,N.jsxs)(g.ZP,{container:!0,spacing:2,className:"mt-[-20%]",children:[(0,N.jsx)(g.ZP,{item:!0,xs:12,md:12,children:(0,N.jsx)(v.Z,{variant:"standard",label:"Email Address",fullWidth:!0,type:"email",disabled:q,onChange:function(n){return D((0,s.Z)((0,s.Z)({},J),{},{email:n.target.value}))},className:"autofill:bg-red-700"})}),(0,N.jsx)(g.ZP,{item:!0,xs:12,md:12,children:(0,N.jsx)(b.Z,{variant:"standard",label:"Password",fullWidth:!0,disabled:q,type:E?"text":"password",onChange:function(n){return D((0,s.Z)((0,s.Z)({},J),{},{password:n.target.value}))},endAdornment:(0,N.jsx)(Z.Z,{position:"end",children:(0,N.jsx)(f.Z,{"aria-label":"toggle password visibility",onClick:function(){return I(!E)},onMouseDown:function(){return I(!E)},edge:"end",children:E?(0,N.jsx)(u.Z,{}):(0,N.jsx)(c.Z,{})})})})}),(0,N.jsx)(g.ZP,{item:!0,xs:12,md:12,sx:{mt:2},children:(0,N.jsxs)(g.ZP,{container:!0,spacing:2,children:[(0,N.jsx)(g.ZP,{item:!0,xs:8,md:8,children:(0,N.jsx)(k.Z,{color:"primary",onClick:$,loading:q,loadingPosition:"start",startIcon:(0,N.jsx)(x.Z,{}),variant:"contained",fullWidth:!0,disableElevation:!0,disabled:!J.email||!J.password,children:"LOGIN"})}),(0,N.jsx)(g.ZP,{item:!0,xs:4,md:4,children:(0,N.jsx)(j.Z,{variant:"text",fullWidth:!0,disabled:q,onClick:function(){return e("signup")},children:"Sign Up"})})]})})]})]})]})}},8388:function(n,e,l){l.d(e,{GN:function(){return t},Pt:function(){return s},em:function(){return i}});var s=[{id:"os-1",label:"Opening Song",artist:null,album:null,lyrics:null,chords:null,media:null,song:null,disabled:!1,is_solemn:!0,tags:["Solemn"]},{id:"ws-1",label:"Welcome Song",artist:null,album:null,lyrics:null,chords:null,media:null,song:null,disabled:!1,is_solemn:!1,tags:["Joyful"]},{id:"js-1",label:"Joyful Song #1",artist:null,album:null,lyrics:null,chords:null,media:null,song:null,disabled:!1,is_solemn:!1,tags:["Joyful"]},{id:"js-2",label:"Joyful Song #2",artist:null,album:null,lyrics:null,chords:null,media:null,song:null,disabled:!1,is_solemn:!1,tags:["Joyful"]},{id:"js-3",label:"Joyful Song #3",artist:null,album:null,lyrics:null,chords:null,media:null,song:null,disabled:!1,is_solemn:!1,tags:["Joyful"]},{id:"ss-1",label:"Solemn Song #1",artist:null,album:null,lyrics:null,chords:null,media:null,song:null,disabled:!1,is_solemn:!0,tags:["Solemn"]},{id:"ss-2",label:"Solemn Song #2",artist:null,album:null,lyrics:null,chords:null,media:null,song:null,disabled:!1,is_solemn:!0,tags:["Solemn"]},{id:"ss-3",label:"Solemn Song #3",artist:null,album:null,lyrics:null,chords:null,media:null,song:null,disabled:!1,is_solemn:!0,tags:["Solemn"]},{id:"ps-1",label:"Pastoral Song",artist:null,album:null,lyrics:null,chords:null,media:null,song:null,disabled:!1,is_solemn:!0,tags:["Solemn"]},{id:"vs-1",label:"Victory Song",artist:null,album:null,lyrics:null,chords:null,media:null,song:null,disabled:!1,is_solemn:!1,tags:["Joyful"]},{id:"cs-1",label:"Closing Song",artist:null,album:null,lyrics:null,chords:null,media:null,song:null,disabled:!1,is_solemn:!0,tags:["Solemn"]}],i="k4gcy3yNWqa02aUfhw8J4fn7sS63",t="Hfhcau8TAiXR4T4FEAXp7eipDvz2"},4246:function(n,e,l){n.exports=l.p+"static/media/WAN_LOGO.e5dfb9e940cedcae48a7.png"},343:function(n,e,l){n.exports=l.p+"static/media/WAN_LOGO_NEW.344d00367654792c706d.png"},9137:function(n,e,l){n.exports=l.p+"static/media/WAN_LOGO_WHITE.caf4984d60e0e25918c5.png"}}]);
//# sourceMappingURL=8483.9efa81cd.chunk.js.map